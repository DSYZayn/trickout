function $(){return[0,0,0]}function rr(r){return[r[0],r[1],r[2]]}function m(r,n,u){return[r,n,u]}function nr(r){const n=$(),u=Math.min(3,r.length);for(let e=0;e<u;++e)n[e]=r[e];return n}function ur(r,n){return new Float64Array(r,n,3)}function z(){return $()}function D(){return m(1,1,1)}function T(){return m(1,0,0)}function j(){return m(0,1,0)}function F(){return m(0,0,1)}const er=z(),or=D(),tr=T(),sr=j(),cr=F();Object.freeze(Object.defineProperty({__proto__:null,ONES:or,UNIT_X:tr,UNIT_Y:sr,UNIT_Z:cr,ZEROS:er,clone:rr,create:$,createView:ur,fromArray:nr,fromValues:m,ones:D,unitX:T,unitY:j,unitZ:F,zeros:z},Symbol.toStringTag,{value:"Module"}));let v=1e-6;function E(){return v}function ir(r){v=r}const I=Math.random,ar=Math.PI/180,fr=180/Math.PI;function hr(r){return r*ar}function Mr(r){return r*fr}function lr(r,n){return Math.abs(r-n)<=v*Math.max(1,Math.abs(r),Math.abs(n))}Object.freeze(Object.defineProperty({__proto__:null,RANDOM:I,equals:lr,getEpsilon:E,setEpsilon:ir,toDegree:Mr,toRadian:hr},Symbol.toStringTag,{value:"Module"}));function O(r){const n=r[0],u=r[1],e=r[2];return Math.sqrt(n*n+u*u+e*e)}function p(r,n){return r[0]=n[0],r[1]=n[1],r[2]=n[2],r}function N(r,n,u,e){return r[0]=n,r[1]=u,r[2]=e,r}function $r(r,n,u){return r[0]=n[0]+u[0],r[1]=n[1]+u[1],r[2]=n[2]+u[2],r}function B(r,n,u){return r[0]=n[0]-u[0],r[1]=n[1]-u[1],r[2]=n[2]-u[2],r}function L(r,n,u){return r[0]=n[0]*u[0],r[1]=n[1]*u[1],r[2]=n[2]*u[2],r}function R(r,n,u){return r[0]=n[0]/u[0],r[1]=n[1]/u[1],r[2]=n[2]/u[2],r}function mr(r,n){return r[0]=Math.ceil(n[0]),r[1]=Math.ceil(n[1]),r[2]=Math.ceil(n[2]),r}function dr(r,n){return r[0]=Math.floor(n[0]),r[1]=Math.floor(n[1]),r[2]=Math.floor(n[2]),r}function br(r,n){return r[0]=Math.abs(n[0]),r[1]=Math.abs(n[1]),r[2]=Math.abs(n[2]),r}function gr(r,n){return r[0]=Math.sign(n[0]),r[1]=Math.sign(n[1]),r[2]=Math.sign(n[2]),r}function xr(r,n,u){return r[0]=Math.min(n[0],u[0]),r[1]=Math.min(n[1],u[1]),r[2]=Math.min(n[2],u[2]),r}function qr(r,n,u){return r[0]=Math.max(n[0],u[0]),r[1]=Math.max(n[1],u[1]),r[2]=Math.max(n[2],u[2]),r}function _r(r,n){return r[0]=Math.round(n[0]),r[1]=Math.round(n[1]),r[2]=Math.round(n[2]),r}function pr(r,n,u){return r[0]=n[0]*u,r[1]=n[1]*u,r[2]=n[2]*u,r}function yr(r,n,u,e){return r[0]=n[0]+u[0]*e,r[1]=n[1]+u[1]*e,r[2]=n[2]+u[2]*e,r}function Z(r,n){const u=n[0]-r[0],e=n[1]-r[1],o=n[2]-r[2];return Math.sqrt(u*u+e*e+o*o)}function U(r,n){const u=n[0]-r[0],e=n[1]-r[1],o=n[2]-r[2];return u*u+e*e+o*o}function X(r){const n=r[0],u=r[1],e=r[2];return n*n+u*u+e*e}function vr(r,n){return r[0]=-n[0],r[1]=-n[1],r[2]=-n[2],r}function Er(r,n){return r[0]=1/n[0],r[1]=1/n[1],r[2]=1/n[2],r}function y(r,n){const u=n[0],e=n[1],o=n[2];let t=u*u+e*e+o*o;return t>0&&(t=1/Math.sqrt(t),r[0]=n[0]*t,r[1]=n[1]*t,r[2]=n[2]*t),r}function Y(r,n){return r[0]*n[0]+r[1]*n[1]+r[2]*n[2]}function Ir(r,n,u){const e=n[0],o=n[1],t=n[2],s=u[0],c=u[1],i=u[2];return r[0]=o*i-t*c,r[1]=t*s-e*i,r[2]=e*c-o*s,r}function Or(r,n,u,e){const o=n[0],t=n[1],s=n[2];return r[0]=o+e*(u[0]-o),r[1]=t+e*(u[1]-t),r[2]=s+e*(u[2]-s),r}function Ar(r,n,u,e,o,t){const s=t*t,c=s*(2*t-3)+1,i=s*(t-2)+t,a=s*(t-1),f=s*(3-2*t);return r[0]=n[0]*c+u[0]*i+e[0]*a+o[0]*f,r[1]=n[1]*c+u[1]*i+e[1]*a+o[1]*f,r[2]=n[2]*c+u[2]*i+e[2]*a+o[2]*f,r}function Pr(r,n,u,e,o,t){const s=1-t,c=s*s,i=t*t,a=c*s,f=3*t*c,h=3*i*s,M=i*t;return r[0]=n[0]*a+u[0]*f+e[0]*h+o[0]*M,r[1]=n[1]*a+u[1]*f+e[1]*h+o[1]*M,r[2]=n[2]*a+u[2]*f+e[2]*h+o[2]*M,r}function Sr(r,n){n=n||1;const u=I,e=2*u()*Math.PI,o=2*u()-1,t=Math.sqrt(1-o*o)*n;return r[0]=Math.cos(e)*t,r[1]=Math.sin(e)*t,r[2]=o*n,r}function wr(r,n,u){const e=n[0],o=n[1],t=n[2];return r[0]=u[0]*e+u[4]*o+u[8]*t+u[12],r[1]=u[1]*e+u[5]*o+u[9]*t+u[13],r[2]=u[2]*e+u[6]*o+u[10]*t+u[14],r}function zr(r,n,u){const e=n[0],o=n[1],t=n[2];return r[0]=e*u[0]+o*u[3]+t*u[6],r[1]=e*u[1]+o*u[4]+t*u[7],r[2]=e*u[2]+o*u[5]+t*u[8],r}function Dr(r,n,u){const e=u[0],o=u[1],t=u[2],s=u[3],c=n[0],i=n[1],a=n[2];let f=o*a-t*i,h=t*c-e*a,M=e*i-o*c,l=o*M-t*h,A=t*f-e*M,P=e*h-o*f;const x=2*s;return f*=x,h*=x,M*=x,l*=2,A*=2,P*=2,r[0]=c+f+l,r[1]=i+h+A,r[2]=a+M+P,r}function Tr(r,n,u,e){const o=[],t=[];return o[0]=n[0]-u[0],o[1]=n[1]-u[1],o[2]=n[2]-u[2],t[0]=o[0],t[1]=o[1]*Math.cos(e)-o[2]*Math.sin(e),t[2]=o[1]*Math.sin(e)+o[2]*Math.cos(e),r[0]=t[0]+u[0],r[1]=t[1]+u[1],r[2]=t[2]+u[2],r}function jr(r,n,u,e){const o=[],t=[];return o[0]=n[0]-u[0],o[1]=n[1]-u[1],o[2]=n[2]-u[2],t[0]=o[2]*Math.sin(e)+o[0]*Math.cos(e),t[1]=o[1],t[2]=o[2]*Math.cos(e)-o[0]*Math.sin(e),r[0]=t[0]+u[0],r[1]=t[1]+u[1],r[2]=t[2]+u[2],r}function Fr(r,n,u,e){const o=[],t=[];return o[0]=n[0]-u[0],o[1]=n[1]-u[1],o[2]=n[2]-u[2],t[0]=o[0]*Math.cos(e)-o[1]*Math.sin(e),t[1]=o[0]*Math.sin(e)+o[1]*Math.cos(e),t[2]=o[2],r[0]=t[0]+u[0],r[1]=t[1]+u[1],r[2]=t[2]+u[2],r}function Nr(r,n){p(d,r),p(b,n),y(d,d),y(b,b);const u=Y(d,b);return u>1?0:u<-1?Math.PI:Math.acos(u)}const d=$(),b=$();function Br(r){return"vec3("+r[0]+", "+r[1]+", "+r[2]+")"}function Lr(r,n){return r[0]===n[0]&&r[1]===n[1]&&r[2]===n[2]}function Rr(r,n){if(r===n)return!0;const u=r[0],e=r[1],o=r[2],t=n[0],s=n[1],c=n[2],i=E();return Math.abs(u-t)<=i*Math.max(1,Math.abs(u),Math.abs(t))&&Math.abs(e-s)<=i*Math.max(1,Math.abs(e),Math.abs(s))&&Math.abs(o-c)<=i*Math.max(1,Math.abs(o),Math.abs(c))}function Zr(r,n,u){const e=u[0]-n[0],o=u[1]-n[1],t=u[2]-n[2];let s=e*e+o*o+t*t;return s>0?(s=1/Math.sqrt(s),r[0]=e*s,r[1]=o*s,r[2]=t*s,r):(r[0]=0,r[1]=0,r[2]=0,r)}const Ur=B,Xr=L,Yr=R,Qr=Z,Vr=U,kr=O,Cr=X;Object.freeze(Object.defineProperty({__proto__:null,abs:br,add:$r,angle:Nr,bezier:Pr,ceil:mr,copy:p,cross:Ir,direction:Zr,dist:Qr,distance:Z,div:Yr,divide:R,dot:Y,equals:Rr,exactEquals:Lr,floor:dr,hermite:Ar,inverse:Er,len:kr,length:O,lerp:Or,max:qr,min:xr,mul:Xr,multiply:L,negate:vr,normalize:y,random:Sr,rotateX:Tr,rotateY:jr,rotateZ:Fr,round:_r,scale:pr,scaleAndAdd:yr,set:N,sign:gr,sqrDist:Vr,sqrLen:Cr,squaredDistance:U,squaredLength:X,str:Br,sub:Ur,subtract:B,transformMat3:zr,transformMat4:wr,transformQuat:Dr},Symbol.toStringTag,{value:"Module"}));function Gr(r,n){return r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3],r}function Jr(r,n,u,e,o){return r[0]=n,r[1]=u,r[2]=e,r[3]=o,r}function Kr(r,n,u){return r[0]=n[0]+u[0],r[1]=n[1]+u[1],r[2]=n[2]+u[2],r[3]=n[3]+u[3],r}function Q(r,n,u){return r[0]=n[0]-u[0],r[1]=n[1]-u[1],r[2]=n[2]-u[2],r[3]=n[3]-u[3],r}function V(r,n,u){return r[0]=n[0]*u[0],r[1]=n[1]*u[1],r[2]=n[2]*u[2],r[3]=n[3]*u[3],r}function k(r,n,u){return r[0]=n[0]/u[0],r[1]=n[1]/u[1],r[2]=n[2]/u[2],r[3]=n[3]/u[3],r}function Hr(r,n){return r[0]=Math.ceil(n[0]),r[1]=Math.ceil(n[1]),r[2]=Math.ceil(n[2]),r[3]=Math.ceil(n[3]),r}function Wr(r,n){return r[0]=Math.floor(n[0]),r[1]=Math.floor(n[1]),r[2]=Math.floor(n[2]),r[3]=Math.floor(n[3]),r}function rn(r,n,u){return r[0]=Math.min(n[0],u[0]),r[1]=Math.min(n[1],u[1]),r[2]=Math.min(n[2],u[2]),r[3]=Math.min(n[3],u[3]),r}function nn(r,n,u){return r[0]=Math.max(n[0],u[0]),r[1]=Math.max(n[1],u[1]),r[2]=Math.max(n[2],u[2]),r[3]=Math.max(n[3],u[3]),r}function un(r,n){return r[0]=Math.round(n[0]),r[1]=Math.round(n[1]),r[2]=Math.round(n[2]),r[3]=Math.round(n[3]),r}function en(r,n,u){return r[0]=n[0]*u,r[1]=n[1]*u,r[2]=n[2]*u,r[3]=n[3]*u,r}function on(r,n,u,e){return r[0]=n[0]+u[0]*e,r[1]=n[1]+u[1]*e,r[2]=n[2]+u[2]*e,r[3]=n[3]+u[3]*e,r}function C(r,n){const u=n[0]-r[0],e=n[1]-r[1],o=n[2]-r[2],t=n[3]-r[3];return Math.sqrt(u*u+e*e+o*o+t*t)}function G(r,n){const u=n[0]-r[0],e=n[1]-r[1],o=n[2]-r[2],t=n[3]-r[3];return u*u+e*e+o*o+t*t}function J(r){const n=r[0],u=r[1],e=r[2],o=r[3];return Math.sqrt(n*n+u*u+e*e+o*o)}function K(r){const n=r[0],u=r[1],e=r[2],o=r[3];return n*n+u*u+e*e+o*o}function tn(r,n){return r[0]=-n[0],r[1]=-n[1],r[2]=-n[2],r[3]=-n[3],r}function sn(r,n){return r[0]=1/n[0],r[1]=1/n[1],r[2]=1/n[2],r[3]=1/n[3],r}function cn(r,n){const u=n[0],e=n[1],o=n[2],t=n[3];let s=u*u+e*e+o*o+t*t;return s>0&&(s=1/Math.sqrt(s),r[0]=u*s,r[1]=e*s,r[2]=o*s,r[3]=t*s),r}function an(r,n){return r[0]*n[0]+r[1]*n[1]+r[2]*n[2]+r[3]*n[3]}function fn(r,n,u,e){const o=n[0],t=n[1],s=n[2],c=n[3];return r[0]=o+e*(u[0]-o),r[1]=t+e*(u[1]-t),r[2]=s+e*(u[2]-s),r[3]=c+e*(u[3]-c),r}function hn(r,n){const u=I;let e,o,t,s,c,i;n=n||1;do e=2*u()-1,o=2*u()-1,c=e*e+o*o;while(c>=1);do t=2*u()-1,s=2*u()-1,i=t*t+s*s;while(i>=1);const a=Math.sqrt((1-c)/i);return r[0]=n*e,r[1]=n*o,r[2]=n*t*a,r[3]=n*s*a,r}function Mn(r,n,u){const e=n[0],o=n[1],t=n[2],s=n[3];return r[0]=u[0]*e+u[4]*o+u[8]*t+u[12]*s,r[1]=u[1]*e+u[5]*o+u[9]*t+u[13]*s,r[2]=u[2]*e+u[6]*o+u[10]*t+u[14]*s,r[3]=u[3]*e+u[7]*o+u[11]*t+u[15]*s,r}function ln(r,n,u){const e=n[0],o=n[1],t=n[2],s=u[0],c=u[1],i=u[2],a=u[3],f=a*e+c*t-i*o,h=a*o+i*e-s*t,M=a*t+s*o-c*e,l=-s*e-c*o-i*t;return r[0]=f*a+l*-s+h*-i-M*-c,r[1]=h*a+l*-c+M*-s-f*-i,r[2]=M*a+l*-i+f*-c-h*-s,r[3]=n[3],r}function $n(r){return"vec4("+r[0]+", "+r[1]+", "+r[2]+", "+r[3]+")"}function mn(r,n){return r[0]===n[0]&&r[1]===n[1]&&r[2]===n[2]&&r[3]===n[3]}function dn(r,n){const u=r[0],e=r[1],o=r[2],t=r[3],s=n[0],c=n[1],i=n[2],a=n[3],f=E();return Math.abs(u-s)<=f*Math.max(1,Math.abs(u),Math.abs(s))&&Math.abs(e-c)<=f*Math.max(1,Math.abs(e),Math.abs(c))&&Math.abs(o-i)<=f*Math.max(1,Math.abs(o),Math.abs(i))&&Math.abs(t-a)<=f*Math.max(1,Math.abs(t),Math.abs(a))}const bn=Q,gn=V,xn=k,qn=C,_n=G,pn=J,yn=K;Object.freeze(Object.defineProperty({__proto__:null,add:Kr,ceil:Hr,copy:Gr,dist:qn,distance:C,div:xn,divide:k,dot:an,equals:dn,exactEquals:mn,floor:Wr,inverse:sn,len:pn,length:J,lerp:fn,max:nn,min:rn,mul:gn,multiply:V,negate:tn,normalize:cn,random:hn,round:un,scale:en,scaleAndAdd:on,set:Jr,sqrDist:_n,sqrLen:yn,squaredDistance:G,squaredLength:K,str:$n,sub:bn,subtract:Q,transformMat4:Mn,transformQuat:ln},Symbol.toStringTag,{value:"Module"}));const S=new Float32Array(1);function An(r){--r;for(let n=1;n<32;n<<=1)r|=r>>n;return r+1}function H(r,n,u){return Math.min(Math.max(r,n),u)}function Pn(r){return(r&r-1)==0}function Sn(r){return r--,r|=r>>1,r|=r>>2,r|=r>>4,r|=r>>8,r|=r>>16,++r}function wn(r,n,u){return r+(n-r)*u}function zn(r){return r*Math.PI/180}function Dn(r){return 180*r/Math.PI}function Tn(r){return Math.acos(H(r,-1,1))}function vn(r){return Math.asin(H(r,-1,1))}function q(r,n,u=1e-6){return r===n?!0:!Number.isFinite(r)||!Number.isFinite(n)?!1:(r>n?r-n:n-r)<=u}const g=new DataView(new ArrayBuffer(Float64Array.BYTES_PER_ELEMENT));function En(r){return g.setFloat64(0,r),g.getBigInt64(0)}function In(r){return g.setBigInt64(0,r),g.getFloat64(0)}const _=BigInt("1000000");On(1);function On(r){const n=En(r=Math.abs(r)),u=In(n<=_?_:n-_);return Math.abs(r-u)}function jn(r){return W(Math.max(-w,Math.min(r,w)))}function W(r){return S[0]=r,S[0]}function Fn(r,n){const u=O(r),e=vn(r[2]/u),o=Math.atan2(r[1]/u,r[0]/u);return N(n,u,e,o),n}function Nn(r){const n=r[0]*r[0]+r[1]*r[1]+r[2]*r[2],u=r[3]*r[3]+r[4]*r[4]+r[5]*r[5],e=r[6]*r[6]+r[7]*r[7]+r[8]*r[8];return!(q(n,1)&&q(u,1)&&q(e,1))}const w=W(34028234663852886e22);export{nr as $,en as A,an as B,J as C,K as D,cn as E,Lr as F,mn as G,Zr as H,dn as I,jn as J,Dr as K,w as L,U as M,vn as N,wr as O,Y as P,Or as Q,yr as R,zr as S,X as T,ur as U,Fn as V,Mr as W,wn as X,kr as Y,R as Z,Ir as _,H as a,L as a0,Qr as a1,er as a2,Nn as a3,Dn as b,m as c,E as d,I as e,Pn as f,pr as g,Sn as h,p as i,fn as j,Tn as k,or as l,zn as m,$ as n,N as o,B as p,Jr as q,hr as r,O as s,An as t,$r as u,rr as v,Gr as w,Z as x,Kr as y,y as z};
