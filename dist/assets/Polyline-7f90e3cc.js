import{e as d,y as Z,a as D}from"./cast-4d1aa82d.js";import{p as N}from"./string-bf9c68ed.js";import"./ensureType-8c80e8c7.js";import{r as T,p as G,a as W,w as v,f as X,m as xt,M as dt,d as vt}from"./Extent-52b65909.js";import{f as Y,t as Rt,r as S}from"./typedArrayUtil-c81d173a.js";function O(t,e,i=!1){let{hasM:s,hasZ:n}=t;Array.isArray(e)?e.length!==4||s||n?e.length===3&&i&&!s?(n=!0,s=!1):e.length===3&&s&&n&&(s=!1,n=!1):(s=!0,n=!0):(n=!n&&e.hasZ&&(!s||e.hasM),s=!s&&e.hasM&&(!n||e.hasZ)),t.hasZ=n,t.hasM=s}var j;function Q(t){return(e,i)=>e==null?i:i==null?e:t(e,i)}function $t(t){return t&&(t.declaredClass==="esri.geometry.SpatialReference"||t.wkid!=null)}let A=j=class extends G{constructor(...t){super(...t),this.points=[],this.type="multipoint"}normalizeCtorArgs(t,e){if(!t&&!e)return{};const i={};Array.isArray(t)?(i.points=t,i.spatialReference=e):$t(t)?i.spatialReference=t:(t.points&&(i.points=t.points),t.spatialReference&&(i.spatialReference=t.spatialReference),t.hasZ&&(i.hasZ=t.hasZ),t.hasM&&(i.hasM=t.hasM));const s=i.points&&i.points[0];return s&&(i.hasZ===void 0&&i.hasM===void 0?(i.hasZ=s.length>2,i.hasM=!1):i.hasZ===void 0?i.hasZ=s.length>3:i.hasM===void 0&&(i.hasM=s.length>3)),i}get cache(){return this.commitProperty("points"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const t=this.points;if(!t.length)return null;const e=new W,i=this.hasZ,s=this.hasM,n=i?3:2,r=t[0],a=Q(Math.min),o=Q(Math.max);let l,h,u,c,[f,p]=r,[y,m]=r;for(let g=0,R=t.length;g<R;g++){const x=t[g],[$,I]=x;if(f=a(f,$),p=a(p,I),y=o(y,$),m=o(m,I),i&&x.length>2){const M=x[2];l=a(l,M),u=o(u,M)}if(s&&x.length>n){const M=x[n];h=a(h,M),c=o(c,M)}}return e.xmin=f,e.ymin=p,e.xmax=y,e.ymax=m,e.spatialReference=this.spatialReference,i?(e.zmin=l,e.zmax=u):(e.zmin=void 0,e.zmax=void 0),s?(e.mmin=h,e.mmax=c):(e.mmin=void 0,e.mmax=void 0),e}writePoints(t,e){e.points=N(this.points)}addPoint(t){return O(this,t),Array.isArray(t)?this.points.push(t):this.points.push(t.toArray()),this.notifyChange("points"),this}clone(){const t={points:N(this.points),spatialReference:this.spatialReference};return this.hasZ&&(t.hasZ=!0),this.hasM&&(t.hasM=!0),new j(t)}getPoint(t){if(!this._validateInputs(t))return null;const e=this.points[t],i={x:e[0],y:e[1],spatialReference:this.spatialReference};let s=2;return this.hasZ&&(i.z=e[2],s=3),this.hasM&&(i.m=e[s]),new v(i)}removePoint(t){if(!this._validateInputs(t))return null;const e=new v(this.points.splice(t,1)[0],this.spatialReference);return this.notifyChange("points"),e}setPoint(t,e){return this._validateInputs(t)?(O(this,e),Array.isArray(e)||(e=e.toArray()),this.points[t]=e,this.notifyChange("points"),this):this}toJSON(t){return this.write({},t)}_validateInputs(t){return t!=null&&t>=0&&t<this.points.length}};d([Z({readOnly:!0})],A.prototype,"cache",null),d([Z()],A.prototype,"extent",null),d([Z({type:[[Number]],json:{write:{isRequired:!0}}})],A.prototype,"points",void 0),d([T("points")],A.prototype,"writePoints",null),A=j=d([D("esri.geometry.Multipoint")],A),A.prototype.toJSON.isDefaultToJSON=!0;const Ht=A;function Mt(t,e){const i=e[0]-t[0],s=e[1]-t[1];if(t.length>2&&e.length>2){const n=t[2]-e[2];return Math.sqrt(i*i+s*s+n*n)}return Math.sqrt(i*i+s*s)}function Zt(t,e,i){const s=t[0]+i*(e[0]-t[0]),n=t[1]+i*(e[1]-t[1]);return t.length>2&&e.length>2?[s,n,t[2]+i*(e[2]-t[2])]:[s,n]}function Kt(t,e,i,s){const[n,r]=e,[a,o]=i[s],[l,h]=i[s+1],u=l-a,c=h-o,f=u*u+c*c,p=(n-a)*u+(r-o)*c,y=Math.min(1,Math.max(0,p/f));return t[0]=a+u*y,t[1]=o+c*y,t}function Lt(t,e,i){const s=i.rings;let n,r,a=!1,o=1/0;for(let l=0;l<s.length;l++){const h=s[l];for(let u=0,c=h.length-1;u<h.length;c=u++)n=h[u],r=h[c],n[1]>e!=r[1]>e&&t<(r[0]-n[0])*(e-n[1])/(r[1]-n[1])+n[0]&&(a=!a),o=Math.min(o,wt(t,e,n,r))}return o===0?0:(a?1:-1)*Math.sqrt(o)}function wt(t,e,i,s){let n=i[0],r=i[1],a=s[0]-n,o=s[1]-r;if(a!==0||o!==0){const l=((t-n)*a+(e-r)*o)/(a*a+o*o);l>1?(n=s[0],r=s[1]):l>0&&(n+=a*l,r+=o*l)}return a=t-n,o=e-r,a*a+o*o}function At(t,e){return Zt(t,e,.5)}function tt(t,e,i){const s=t.length;let n=0,r=0,a=0;for(let o=0;o<s;o++){const l=t[o],h=t[(o+1)%s];let u=2;n+=l[0]*h[1]-h[0]*l[1],l.length>2&&h.length>2&&i&&(r+=l[0]*h[2]-h[0]*l[2],u=3),l.length>u&&h.length>u&&e&&(a+=l[0]*h[u]-h[0]*l[u])}return n<=0&&r<=0&&a<=0}function Pt(t){const e=t.length;return e>2&&Y(t[0],t[e-1])}function Qt(t){if("rings"in t&&(zt(t),t.rings.length>0&&!tt(t.rings[0],t.hasM??!1,t.hasZ??!1)))for(const e of t.rings)e.reverse()}function zt(t){if("rings"in t)for(const e of t.rings)Pt(e)||e.push(e[0].slice())}function et(t){if(!t||t.length<3)return 0;let e=0;const i=t.length-1;for(let s=0;s<i;s++)e+=(t[s][0]-t[s+1][0])*(t[s][1]+t[s+1][1]);return e+=(t[i][0]-t[0][0])*(t[i][1]+t[0][1]),-.5*e}function Vt(t){return t?t.hasZ?[t.xmax-t.xmin/2,t.ymax-t.ymin/2,t.zmax-t.zmin/2]:[t.xmax-t.xmin/2,t.ymax-t.ymin/2]:null}function Ct(t){return t?it(t.rings,t.hasZ??!1):null}function it(t,e){if(!t||!t.length)return null;const i=[],s=[],n=e?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0];for(let r=0,a=t.length;r<a;r++){const o=It(t[r],e,n);o&&s.push(o)}if(s.sort((r,a)=>{let o=r[2]-a[2];return o===0&&e&&(o=r[4]-a[4]),o}),s.length&&(i[0]=s[0][0],i[1]=s[0][1],e&&(i[2]=s[0][3]),(i[0]<n[0]||i[0]>n[1]||i[1]<n[2]||i[1]>n[3]||e&&(i[2]<n[4]||i[2]>n[5]))&&(i.length=0)),!i.length){const r=t[0]&&t[0].length?Nt(t[0],e):null;if(!r)return null;i[0]=r[0],i[1]=r[1],e&&r.length>2&&(i[2]=r[2])}return i}function It(t,e,i){let s=0,n=0,r=0,a=0,o=0;const l=t.length?t[0][0]:0,h=t.length?t[0][1]:0,u=t.length&&e?t[0][2]:0;for(let f=0;f<t.length;f++){const p=t[f],y=t[(f+1)%t.length],[m,g,R]=p,x=m-l,$=g-h,[I,M,yt]=y,q=I-l,F=M-h,b=x*F-q*$;if(a+=b,s+=(x+q)*b,n+=($+F)*b,e&&p.length>2&&y.length>2){const H=R-u,K=yt-u,L=x*K-q*H;r+=(H+K)*L,o+=L}m<i[0]&&(i[0]=m),m>i[1]&&(i[1]=m),g<i[2]&&(i[2]=g),g>i[3]&&(i[3]=g),e&&(R<i[4]&&(i[4]=R),R>i[5]&&(i[5]=R))}if(a>0&&(a*=-1),o>0&&(o*=-1),!a)return null;a*=.5,o*=.5;const c=[s/(6*a)+l,n/(6*a)+h,a];return e&&(i[4]===i[5]||o===0?(c[3]=(i[4]+i[5])/2,c[4]=0):(c[3]=r/(6*o)+u,c[4]=o)),c}function Nt(t,e){const i=e?[0,0,0]:[0,0],s=e?[0,0,0]:[0,0];let n=0,r=0,a=0,o=0;for(let l=0,h=t.length;l<h-1;l++){const u=t[l],c=t[l+1];if(u&&c){i[0]=u[0],i[1]=u[1],s[0]=c[0],s[1]=c[1],e&&u.length>2&&c.length>2&&(i[2]=u[2],s[2]=c[2]);const f=Mt(i,s);if(f){n+=f;const p=At(u,c);r+=f*p[0],a+=f*p[1],e&&p.length>2&&(o+=f*p[2])}}}return n>0?e?[r/n,a/n,o/n]:[r/n,a/n]:t.length?t[0]:null}const Ot=1e-6;function Xt(t){if(!t||!t.rings)return null;const{rings:e}=t;let i=0;for(let r=0;r<e.length;r++)i+=et(e[r]);if(i<Ot)return it(e,!1);const s=[0,0],n=e[0][0];for(let r=0;r<e.length;r++)St(s,n,e[r]);return s[0]*=1/i,s[1]*=1/i,s[0]+=n[0],s[1]+=n[1],s}const _t=1/3;function St(t,e,i){if(!t||!i||i.length<3)return null;const s=i[0],n=[0,0],r=[i[1][0]-s[0],i[1][1]-s[1]];let a;for(let h=2;h<i.length;h++)n[0]=i[h][0]-s[0],n[1]=i[h][1]-s[1],a=.5*_t*(n[0]*r[1]-n[1]*r[0]),t[0]+=a*(r[0]+n[0]),t[1]+=a*(r[1]+n[1]),r[0]=n[0],r[1]=n[1];const o=et(i),l=[s[0],s[1]];return l[0]-=e[0],l[1]-=e[1],l[0]*=o,l[1]*=o,t[0]+=l[0],t[1]+=l[1],t}function st(t){return t.xmin!==void 0&&t.ymin!==void 0&&t.xmax!==void 0&&t.ymax!==void 0}function nt(t){return t.points!==void 0}function rt(t){return t.x!==void 0&&t.y!==void 0}function at(t){return t.paths!==void 0}function ot(t){return t.rings!==void 0}function ht(t){function e(i,s){return i==null?s:s==null?i:t(i,s)}return e}const z=ht(Math.min),C=ht(Math.max);function Yt(t,e){return at(e)?_(t,e.paths,!1,!1):ot(e)?_(t,e.rings,!1,!1):nt(e)?E(t,e.points,!1,!1,!1,!1):st(e)?lt(t,e):(rt(e)&&(t[0]=e.x,t[1]=e.y,t[2]=e.x,t[3]=e.y),t)}function te(t,e){return at(e)?_(t,e.paths,!0,!1):ot(e)?_(t,e.rings,!0,!1):nt(e)?E(t,e.points,!0,!1,!0,!1):st(e)?lt(t,e,!0,!1,!0,!1):(rt(e)&&(t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.x,t[4]=e.y,t[5]=e.z),t)}function _(t,e,i,s){const n=i?3:2;if(!e.length||!e[0].length)return null;let r,a,o,l,[h,u]=e[0][0],[c,f]=e[0][0];for(let p=0;p<e.length;p++){const y=e[p];for(let m=0;m<y.length;m++){const g=y[m],[R,x]=g;if(h=z(h,R),u=z(u,x),c=C(c,R),f=C(f,x),i&&g.length>2){const $=g[2];r=z(r,$),a=C(a,$)}if(s&&g.length>n){const $=g[n];o=z(r,$),l=C(a,$)}}}return i?s?(t[0]=h,t[1]=u,t[2]=r,t[3]=o,t[4]=c,t[5]=f,t[6]=a,t[7]=l,t.length=8,t):(t[0]=h,t[1]=u,t[2]=r,t[3]=c,t[4]=f,t[5]=a,t.length=6,t):s?(t[0]=h,t[1]=u,t[2]=o,t[3]=c,t[4]=f,t[5]=l,t.length=6,t):(t[0]=h,t[1]=u,t[2]=c,t[3]=f,t.length=4,t)}function lt(t,e,i,s,n,r){const a=e.xmin,o=e.xmax,l=e.ymin,h=e.ymax;let u=e.zmin,c=e.zmax,f=e.mmin,p=e.mmax;return n?(u=u||0,c=c||0,r?(f=f||0,p=p||0,t[0]=a,t[1]=l,t[2]=u,t[3]=f,t[4]=o,t[5]=h,t[6]=c,t[7]=p,t):(t[0]=a,t[1]=l,t[2]=u,t[3]=o,t[4]=h,t[5]=c,t)):r?(f=f||0,p=p||0,t[0]=a,t[1]=l,t[2]=f,t[3]=o,t[4]=h,t[5]=p,t):(t[0]=a,t[1]=l,t[2]=o,t[3]=h,t)}function E(t,e,i,s,n,r){const a=i?3:2,o=s&&r,l=i&&n;if(!e.length||!e[0].length)return null;let h,u,c,f,[p,y]=e[0],[m,g]=e[0];for(let R=0;R<e.length;R++){const x=e[R],[$,I]=x;if(p=z(p,$),y=z(y,I),m=C(m,$),g=C(g,I),l&&x.length>2){const M=x[2];h=z(h,M),u=C(u,M)}if(o&&x.length>a){const M=x[a];c=z(h,M),f=C(u,M)}}return n?(h=h||0,u=u||0,r?(c=c||0,f=f||0,t[0]=p,t[1]=y,t[2]=h,t[3]=c,t[4]=m,t[5]=g,t[6]=u,t[7]=f,t):(t[0]=p,t[1]=y,t[2]=h,t[3]=m,t[4]=g,t[5]=u,t)):r?(c=c||0,f=f||0,t[0]=p,t[1]=y,t[2]=c,t[3]=m,t[4]=g,t[5]=f,t):(t[0]=p,t[1]=y,t[2]=m,t[3]=g,t)}function Jt(t){return t.xmin!==void 0&&t.ymin!==void 0&&t.xmax!==void 0&&t.ymax!==void 0}function qt(t){return t.points!==void 0}function bt(t){return t.x!==void 0&&t.y!==void 0}function jt(t){return t.paths!==void 0}function kt(t){return t.rings!==void 0}const U=[];function ut(t,e,i,s){return{xmin:t,ymin:e,xmax:i,ymax:s}}function ct(t,e,i,s,n,r){return{xmin:t,ymin:e,zmin:i,xmax:s,ymax:n,zmax:r}}function ft(t,e,i,s,n,r){return{xmin:t,ymin:e,mmin:i,xmax:s,ymax:n,mmax:r}}function pt(t,e,i,s,n,r,a,o){return{xmin:t,ymin:e,zmin:i,mmin:s,xmax:n,ymax:r,zmax:a,mmax:o}}function B(t,e=!1,i=!1){return e?i?pt(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]):ct(t[0],t[1],t[2],t[3],t[4],t[5]):i?ft(t[0],t[1],t[2],t[3],t[4],t[5]):ut(t[0],t[1],t[2],t[3])}function ee(t){return t?Jt(t)?t:bt(t)?Tt(t):kt(t)?gt(t):jt(t)?mt(t):qt(t)?Dt(t):null:null}function Dt(t){const{hasZ:e,hasM:i,points:s}=t;return B(E(U,s,e??!1,i??!1),e,i)}function Tt(t){const{x:e,y:i,z:s,m:n}=t,r=n!=null;return s!=null?r?pt(e,i,s,n,e,i,s,n):ct(e,i,s,e,i,s):r?ft(e,i,n,e,i,n):ut(e,i,e,i)}function gt(t){const{hasZ:e,hasM:i,rings:s}=t,n=_(U,s,e??!1,i??!1);return n?B(n,e,i):null}function mt(t){const{hasZ:e,hasM:i,paths:s}=t,n=_(U,s,e??!1,i??!1);return n?B(n,e,i):null}var J;function V(t){return!Array.isArray(t[0])}let w=J=class extends G{static fromExtent(t){const e=t.clone().normalize(),i=t.spatialReference;let s=!1,n=!1;for(const a of e)a.hasZ&&(s=!0),a.hasM&&(n=!0);const r={rings:e.map(a=>{const o=[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]];if(s&&a.hasZ){const l=a.zmin+.5*(a.zmax-a.zmin);for(let h=0;h<o.length;h++)o[h].push(l)}if(n&&a.hasM){const l=a.mmin+.5*(a.mmax-a.mmin);for(let h=0;h<o.length;h++)o[h].push(l)}return o}),spatialReference:i};return s&&(r.hasZ=!0),n&&(r.hasM=!0),new J(r)}constructor(...t){super(...t),this.rings=[],this.type="polygon"}normalizeCtorArgs(t,e){let i,s,n=null,r=null;return t&&!Array.isArray(t)?(n=t.rings?t.rings:null,e||(t.spatialReference?e=t.spatialReference:t.rings||(e=t)),i=t.hasZ,s=t.hasM):n=t,n=n||[],e=e||X.WGS84,n.length&&n[0]&&n[0][0]!=null&&typeof n[0][0]=="number"&&(n=[n]),r=n[0]&&n[0][0],r&&(i===void 0&&s===void 0?(i=r.length>2,s=r.length>3):i===void 0?i=s?r.length>3:r.length>2:s===void 0&&(s=i?r.length>3:r.length>2)),{rings:n,spatialReference:e,hasZ:i,hasM:s}}get cache(){return this.commitProperty("rings"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get centroid(){const t=Ct(this);if(!t||isNaN(t[0])||isNaN(t[1])||this.hasZ&&isNaN(t[2]))return null;const e=new v;return e.x=t[0],e.y=t[1],e.spatialReference=this.spatialReference,this.hasZ&&(e.z=t[2]),e}get extent(){const{spatialReference:t}=this,e=gt(this);if(!e)return null;const i=new W(e);return i.spatialReference=t,i}get isSelfIntersecting(){return xt(this.rings)}writeRings(t,e){e.rings=N(this.rings)}addRing(t){if(!t)return;const e=this.rings,i=e.length;if(V(t)){const s=[];for(let n=0,r=t.length;n<r;n++)s[n]=t[n].toArray();e[i]=s}else e[i]=t.concat();return this.notifyChange("rings"),this}clone(){const t=new J;return t.spatialReference=this.spatialReference,t.rings=N(this.rings),t.hasZ=this.hasZ,t.hasM=this.hasM,t}equals(t){if(this===t)return!0;if(Rt(t))return!1;const e=this.spatialReference,i=t.spatialReference;if(S(e)!==S(i)||S(e)&&S(i)&&!e.equals(i)||this.rings.length!==t.rings.length)return!1;const s=([n,r,a,o],[l,h,u,c])=>n===l&&r===h&&(a==null&&u==null||a===u)&&(o==null&&c==null||o===c);for(let n=0;n<this.rings.length;n++){const r=this.rings[n],a=t.rings[n];if(!Y(r,a,s))return!1}return!0}contains(t){if(!t)return!1;const e=dt(t,this.spatialReference);return vt(this,S(e)?e:t)}isClockwise(t){let e;return e=V(t)?t.map(i=>this.hasZ?this.hasM?[i.x,i.y,i.z,i.m]:[i.x,i.y,i.z]:[i.x,i.y]):t,tt(e,this.hasM,this.hasZ)}getPoint(t,e){if(!this._validateInputs(t,e))return null;const i=this.rings[t][e],s=this.hasZ,n=this.hasM;return s&&!n?new v(i[0],i[1],i[2],void 0,this.spatialReference):n&&!s?new v(i[0],i[1],void 0,i[2],this.spatialReference):s&&n?new v(i[0],i[1],i[2],i[3],this.spatialReference):new v(i[0],i[1],this.spatialReference)}insertPoint(t,e,i){return this._validateInputs(t,e,!0)?(O(this,i),Array.isArray(i)||(i=i.toArray()),this.rings[t].splice(e,0,i),this.notifyChange("rings"),this):this}removePoint(t,e){if(!this._validateInputs(t,e))return null;const i=new v(this.rings[t].splice(e,1)[0],this.spatialReference);return this.notifyChange("rings"),i}removeRing(t){if(!this._validateInputs(t,null))return null;const e=this.rings.splice(t,1)[0],i=this.spatialReference,s=e.map(n=>new v(n,i));return this.notifyChange("rings"),s}setPoint(t,e,i){return this._validateInputs(t,e)?(O(this,i),Array.isArray(i)||(i=i.toArray()),this.rings[t][e]=i,this.notifyChange("rings"),this):this}_validateInputs(t,e,i=!1){if(t==null||t<0||t>=this.rings.length)return!1;if(e!=null){const s=this.rings[t];if(i&&(e<0||e>s.length)||!i&&(e<0||e>=s.length))return!1}return!0}toJSON(t){return this.write({},t)}};d([Z({readOnly:!0})],w.prototype,"cache",null),d([Z({readOnly:!0})],w.prototype,"centroid",null),d([Z({readOnly:!0})],w.prototype,"extent",null),d([Z({readOnly:!0})],w.prototype,"isSelfIntersecting",null),d([Z({type:[[[Number]]],json:{write:{isRequired:!0}}})],w.prototype,"rings",void 0),d([T("rings")],w.prototype,"writeRings",null),w=J=d([D("esri.geometry.Polygon")],w),w.prototype.toJSON.isDefaultToJSON=!0;const ie=w;var k;function Gt(t){return!Array.isArray(t[0])}let P=k=class extends G{constructor(...t){super(...t),this.paths=[],this.type="polyline"}normalizeCtorArgs(t,e){let i,s,n=null,r=null;return t&&!Array.isArray(t)?(n=t.paths?t.paths:null,e||(t.spatialReference?e=t.spatialReference:t.paths||(e=t)),i=t.hasZ,s=t.hasM):n=t,n=n||[],e=e||X.WGS84,n.length&&n[0]&&n[0][0]!=null&&typeof n[0][0]=="number"&&(n=[n]),r=n[0]&&n[0][0],r&&(i===void 0&&s===void 0?(i=r.length>2,s=!1):i===void 0?i=!s&&r.length>3:s===void 0&&(s=!i&&r.length>3)),{paths:n,spatialReference:e,hasZ:i,hasM:s}}get cache(){return this.commitProperty("paths"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const{spatialReference:t}=this,e=mt(this);if(!e)return null;const i=new W(e);return i.spatialReference=t,i}writePaths(t,e){e.paths=N(this.paths)}addPath(t){if(!t)return;const e=this.paths,i=e.length;if(Gt(t)){const s=[];for(let n=0,r=t.length;n<r;n++)s[n]=t[n].toArray();e[i]=s}else e[i]=t.concat();return this.notifyChange("paths"),this}clone(){const t=new k;return t.spatialReference=this.spatialReference,t.paths=N(this.paths),t.hasZ=this.hasZ,t.hasM=this.hasM,t}getPoint(t,e){if(!this._validateInputs(t,e))return null;const i=this.paths[t][e],s=this.hasZ,n=this.hasM;return s&&!n?new v(i[0],i[1],i[2],void 0,this.spatialReference):n&&!s?new v(i[0],i[1],void 0,i[2],this.spatialReference):s&&n?new v(i[0],i[1],i[2],i[3],this.spatialReference):new v(i[0],i[1],this.spatialReference)}insertPoint(t,e,i){return this._validateInputs(t,e,!0)?(O(this,i),Array.isArray(i)||(i=i.toArray()),this.paths[t].splice(e,0,i),this.notifyChange("paths"),this):this}removePath(t){if(!this._validateInputs(t,null))return null;const e=this.paths.splice(t,1)[0],i=this.spatialReference,s=e.map(n=>new v(n,i));return this.notifyChange("paths"),s}removePoint(t,e){if(!this._validateInputs(t,e))return null;const i=new v(this.paths[t].splice(e,1)[0],this.spatialReference);return this.notifyChange("paths"),i}setPoint(t,e,i){return this._validateInputs(t,e)?(O(this,i),Array.isArray(i)||(i=i.toArray()),this.paths[t][e]=i,this.notifyChange("paths"),this):this}_validateInputs(t,e,i=!1){if(t==null||t<0||t>=this.paths.length)return!1;if(e!=null){const s=this.paths[t];if(i&&(e<0||e>s.length)||!i&&(e<0||e>=s.length))return!1}return!0}toJSON(t){return this.write({},t)}};d([Z({readOnly:!0})],P.prototype,"cache",null),d([Z({readOnly:!0})],P.prototype,"extent",null),d([Z({type:[[[Number]]],json:{write:{isRequired:!0}}})],P.prototype,"paths",void 0),d([T("paths")],P.prototype,"writePaths",null),P=k=d([D("esri.geometry.Polyline")],P),P.prototype.toJSON.isDefaultToJSON=!0;const se=P;export{et as M,E as a,It as b,Yt as c,it as d,Xt as e,te as f,Qt as g,gt as h,Vt as i,tt as j,ee as l,se as m,Kt as o,zt as p,Ct as r,Lt as s,Ht as u,ie as v};
